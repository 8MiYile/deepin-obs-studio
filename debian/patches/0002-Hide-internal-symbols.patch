From: Sebastian Ramacher <sramacher@debian.org>
Date: Wed, 19 Apr 2017 21:45:40 +0200
Subject: Hide internal symbols

---
 deps/obs-scripting/CMakeLists.txt | 1 +
 libobs/CMakeLists.txt             | 2 +-
 2 files changed, 2 insertions(+), 1 deletion(-)

--- obs-studio.orig/deps/obs-scripting/CMakeLists.txt
+++ obs-studio/deps/obs-scripting/CMakeLists.txt
@@ -87,6 +87,7 @@
   PROPERTIES FOLDER "scripting"
              VERSION "${OBS_VERSION_MAJOR}"
              SOVERSION "1")
+target_compile_definitions(obs-scripting PRIVATE "-fvisibility=hidden")
 
 file(MAKE_DIRECTORY ${CMAKE_CURRENT_BINARY_DIR}/swig)
 
--- obs-studio.orig/libobs/CMakeLists.txt
+++ obs-studio/libobs/CMakeLists.txt
@@ -260,7 +260,7 @@
 target_compile_definitions(
   libobs
   PUBLIC ${ARCH_SIMD_DEFINES}
-  PRIVATE IS_LIBOBS)
+  PRIVATE IS_LIBOBS "-fvisibility=hidden")
 
 target_compile_features(libobs PRIVATE cxx_alias_templates)
 
