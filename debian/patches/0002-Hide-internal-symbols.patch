From: Sebastian Ramacher <sramacher@debian.org>
Date: Wed, 19 Apr 2017 21:45:40 +0200
Subject: Hide internal symbols

---
 deps/obs-scripting/CMakeLists.txt | 12 ++++++++++++
 libobs/CMakeLists.txt             |  5 +++++
 libobs/util/c99defs.h             |  2 +-
 3 files changed, 18 insertions(+), 1 deletion(-)

--- a/deps/obs-scripting/CMakeLists.txt
+++ b/deps/obs-scripting/CMakeLists.txt
@@ -87,6 +87,7 @@
   PROPERTIES FOLDER "scripting"
              VERSION "${OBS_VERSION_MAJOR}"
              SOVERSION "1")
+target_compile_definitions(obs-scripting PRIVATE "-fvisibility=hidden")
 
 file(MAKE_DIRECTORY ${CMAKE_CURRENT_BINARY_DIR}/swig)
 
--- a/libobs/CMakeLists.txt
+++ b/libobs/CMakeLists.txt
@@ -260,7 +260,7 @@
 target_compile_definitions(
   libobs
   PUBLIC ${ARCH_SIMD_DEFINES}
-  PRIVATE IS_LIBOBS)
+  PRIVATE IS_LIBOBS "-fvisibility=hidden")
 
 target_compile_features(libobs PRIVATE cxx_alias_templates)
 
