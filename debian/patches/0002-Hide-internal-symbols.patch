From: Sebastian Ramacher <sramacher@debian.org>
Date: Wed, 19 Apr 2017 21:45:40 +0200
Subject: Hide internal symbols

---
 deps/obs-scripting/CMakeLists.txt | 1 +
 libobs/CMakeLists.txt             | 2 +-
 2 files changed, 2 insertions(+), 1 deletion(-)

diff --git a/deps/obs-scripting/CMakeLists.txt b/deps/obs-scripting/CMakeLists.txt
index a919514..35a3534 100644
--- a/deps/obs-scripting/CMakeLists.txt
+++ b/deps/obs-scripting/CMakeLists.txt
@@ -87,6 +87,7 @@ set_target_properties(
   PROPERTIES FOLDER "scripting"
              VERSION "${OBS_VERSION_MAJOR}"
              SOVERSION "1")
+target_compile_definitions(obs-scripting PRIVATE "-fvisibility=hidden")
 
 file(MAKE_DIRECTORY ${CMAKE_CURRENT_BINARY_DIR}/swig)
 
diff --git a/libobs/CMakeLists.txt b/libobs/CMakeLists.txt
index 790583c..9bb1b58 100644
--- a/libobs/CMakeLists.txt
+++ b/libobs/CMakeLists.txt
@@ -260,7 +260,7 @@ set_target_properties(
 target_compile_definitions(
   libobs
   PUBLIC ${ARCH_SIMD_DEFINES}
-  PRIVATE IS_LIBOBS)
+  PRIVATE IS_LIBOBS "-fvisibility=hidden")
 
 target_compile_features(libobs PRIVATE cxx_alias_templates)
 
