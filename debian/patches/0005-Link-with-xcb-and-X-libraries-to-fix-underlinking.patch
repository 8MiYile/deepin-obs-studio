From: Sebastian Ramacher <sramacher@debian.org>
Date: Wed, 19 Apr 2017 23:02:17 +0200
Subject: Link with xcb and X libraries to fix underlinking

---
 libobs/CMakeLists.txt | 12 +++++++++---
 1 file changed, 9 insertions(+), 3 deletions(-)

diff --git a/libobs/CMakeLists.txt b/libobs/CMakeLists.txt
index d1b62c5..d36afa1 100644
--- a/libobs/CMakeLists.txt
+++ b/libobs/CMakeLists.txt
@@ -14,7 +14,8 @@ endif()
 if(UNIX)
 	find_package(DBus QUIET)
 	if (NOT APPLE)
-		find_package(X11_XCB REQUIRED)
+		find_package(XCB COMPONENTS XCB REQUIRED)
+		find_package(X11 REQUIRED)
 	endif()
 else()
 	set(HAVE_DBUS "0")
@@ -161,12 +162,17 @@ elseif(UNIX)
 	endif()
 
 	include_directories(
-		${X11_XCB_INCLUDE_DIRS})
+		${XCB_INCLUDE_DIRS}
+		${X11_XCB_INCLUDE_DIRS}
+		${X11_X11_INCLUDE_DIRS})
 	add_definitions(
+		${XCB_DEFINITIONS}
 		${X11_XCB_DEFINITIONS})
 	set(libobs_PLATFORM_DEPS
 		${libobs_PLATFORM_DEPS}
-		${X11_XCB_LIBRARIES})
+		${XCB_LIBRARIES}
+		${X11_XCB_LIBRARIES}
+		${X11_X11_LIB})
 
 	set(libobs_PLATFORM_DEPS
 		${libobs_PLATFORM_DEPS}
